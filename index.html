<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>The Crystals Collector</title>
    <link rel="stylesheet" href="css/css.css">
  </head>
  <body>

<div id="container">
    <div id="title">
          <h1>Crystals Collector </h1>
    </div>
    <div class="howto">
        <p>
            You will be given a random number at the start of the game.
            
            There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.
            
            You win the game by matching our total score to random number, you lose the game if your total score goes above the random number. The value of each crystal is hidden from you until you click on it.
            
            Each time when the game starts, the game will change the values of each crystal.
        </p>
    </div>
    
    <div class="section3">
        <div id="maintarget">
            Target Number
        </div>
        <div class="counter">
            <div id="wins">
                Wins:
            </div>
            <div id="losses">
                Losses:
            </div>
        </div>
    </div>
    <div class="diamonds">
        <div id="diamond1">
                <img src="images/redgem.png" style="position:absolute; height: 150px; width: 150px;">

        </div>
        <div id="diamond2">
                <img src="images/bluegem.png" style="position:absolute; height: 150px; width: 150px;">
        </div>
        <div id="diamond3">
                <img src="images/greengem.png" style="position:absolute; height: 150px; width: 150px;">
        </div>
        <div id="diamond4">
                <img src="images/yellowgem.jpg" style="position:absolute; height: 150px; width: 150px;">
        </div>

    <div id="score">
        Score:
    </div>

    </div>
</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            var score = 0;

            isCalculated = false;

            var diamond1;
            var diamond2;
            var diamond3;
            var diamond4;
            var userScore;
            var mainTarget;
            var wins;
            var losses;

            function randomGenerate() {
                return Math.floor(Math.random() * 12) + 1;
                
            }
            //Reset game function
            var reset = function() {
                mainTarget = Math.floor(Math.random() * 120) + 19;
                diamond1 = randomGenerate();
                diamond2 = randomGenerate();
                diamond3 = randomGenerate();
                diamond4 = randomGenerate();
            };

            // Gameover function that resets game when score is met or passed 
            function gameOver() {
                if (userScore == mainTarget) {
                    reset
                    wins++
                }
                if (userScore > mainTarget) {
                    reset
                    losses++
                }
            }


            //Assigning random numbers to variables
            mainTarget = Math.floor(Math.random() * 120) + 19;
            diamond1 = randomGenerate();
            diamond2 = randomGenerate();
            diamond3 = randomGenerate();
            diamond4 = randomGenerate();

            //Shows Target Number
            $("#maintarget").text("Target Number: " + mainTarget);

            //Shows wins
            $("#counter").text("Wins: " + wins);

            //Shows losses
            $("#counter").text("Losses: " + losses);

            //Click functions

            $("#diamond1").on("click", function() {

                diamond1 += userScore
                $("#score").html("score:" + userScore);
                gameOver()
                
            })

            $("#diamond2").on("click", function() {

                diamond2 += userScore
                $("#score").html("score:" + userScore);
                gameOver();
      
            })

            $("#diamond3").on("click", function() {

                diamond3 += userScore
                $("#score").html("score:" + userScore);
                gameOver();
            })

            $("#diamond4").on("click", function() {

                diamond4 += userScore
                $("#score").html("score:" + userScore);
                gameOver();
     


            })
            })
    </script>

    <script type="text/javascript" src="javascript/crystal.js"></script>
  </body>
  </html>